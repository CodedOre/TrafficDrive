[gd_scene load_steps=15 format=2]

[ext_resource path="res://assets/models/vehicles/Police1.glb" type="PackedScene" id=1]
[ext_resource path="res://assets/materials/Body.material" type="Material" id=2]
[ext_resource path="res://assets/materials/Glass.material" type="Material" id=3]
[ext_resource path="res://assets/materials/VehicleLights/FrontLightOff.material" type="Material" id=4]
[ext_resource path="res://assets/materials/VehicleLights/ReverseLightOff.material" type="Material" id=5]
[ext_resource path="res://assets/materials/VehicleLights/TurningSignalOff.material" type="Material" id=6]
[ext_resource path="res://assets/materials/VehicleLights/RearLightOff.material" type="Material" id=7]
[ext_resource path="res://scripts/vehicles/VehicleLight.gd" type="Script" id=8]
[ext_resource path="res://scripts/vehicles/Vehicle.gd" type="Script" id=9]
[ext_resource path="res://scripts/utils/CameraPoint.gd" type="Script" id=10]

[sub_resource type="Curve" id=1]
_data = [ Vector2( 0, 0 ), 0.0, 2.57359, 0, 0, Vector2( 0.69, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.75, 1 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), -5.12499, 0.0, 0, 0 ]

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( -110.842, 64.8663, -118.057, -92.9838, -206.946, -51.6038, -92.9017, -172.764, -28.3696, -92.5719, 122.056, -30.3803, -92.5149, -201.582, -81.489, -89.8982, -214.309, -38.358, -88.9488, -203.28, -94.4644, -88.4058, -127.911, -23.8785, -88.4058, 167.988, -23.8785, -87.9294, 219.124, -51.7567, -85.684, -227.722, -60.0383, -84.2086, 237.493, -43.1057, -84.207, 224.718, -81.5212, -84.1713, 237.394, -64.4671, -83.8381, -116.146, -115.48, -81.393, -219.17, -90.4536, -76.6111, 253.274, -42.7826, -76.3713, -212.792, -103.193, -76.1172, -134.74, -115.971, -75.2056, 248.857, -64.4916, -70.9756, 231.912, -85.6828, -64.8875, -244.515, -42.2708, -57.021, -231.032, -23.8785, -55.2678, -240.731, -68.7223, -48.0509, 266.655, -23.8785, -46.4838, -227.182, -103.4, -45.3013, 264.674, -43.3853, -44.0733, 249.523, -85.134, -43.1593, 240.571, -88.8107, -41.7127, -220.247, -107.319, -32.0557, 227.027, -93.5975, 17.8619, 90.9242, -114.799, 34.3637, 227.484, -93.6602, 34.4808, 253.182, -85.3997, 37.1549, -163.804, -19.3873, 37.1549, -118.95, -19.3873, 43.8014, 267.067, -68.7223, 46.125, 266.655, -23.8785, 48.6505, -226.048, -103.238, 53.4081, -241.141, -68.7223, 59.5695, -204.151, -118.048, 59.5695, -118.95, -19.3873, 66.5277, -223.894, -99.2034, 67.3076, -244.315, -42.2911, 76.8245, 246.799, -64.5298, 77.5829, 223.556, -85.6927, 78.0007, -227.657, -38.8478, 78.03, 250.383, -43.1035, 80.0223, -233.884, -64.348, 82.8981, 226.269, -81.6161, 83.2159, -208.914, -98.9404, 85.9191, 231.652, -64.4965, 86.0258, -103.181, -115.401, 86.48, -127.911, -23.8785, 86.48, 167.988, -23.8785, 88.0317, -223.136, -60.0464, 90.6686, -197.488, -90.0277, 90.9758, -172.764, -28.3696, 90.9758, 212.842, -28.3696, 92.0182, -209.318, -38.4499, 92.0222, 123.606, -29.8043, 92.052, -83.8786, -29.7919, 92.5044, -210.493, -77.4115, 108.916, 64.8663, -118.057 )

[sub_resource type="ConvexPolygonShape" id=3]
points = PoolVector3Array( 59.5815, -226.632, -158.422, 59.5815, -226.632, -149.445, 59.5815, -217.661, -158.422, 59.5815, -208.694, -118.057, 59.5815, -195.237, -122.55, 64.0652, -226.632, -158.422, 64.0652, -217.661, -158.422, 64.0652, -208.694, -118.057, 64.0652, -195.237, -118.057 )

[sub_resource type="ConvexPolygonShape" id=4]
points = PoolVector3Array( -83.3105, -109.513, -119.773, -79.6029, -122.824, -119.586, -79.4351, 42.422, -140.49, -79.4351, 78.338, -122.548, -78.3527, 62.7538, -120.025, -74.9939, -130.829, -119.718, -74.9664, -114.494, -140.49, -70.4634, 46.9501, -144.976, -66.6772, 76.711, -119.657, -65.9775, -114.494, -144.976, -65.9775, 78.338, -127.034, -61.4916, 42.422, -149.444, -58.567, -140.249, -119.477, -52.5198, -118.975, -144.976, -52.5198, -33.7721, -176.362, -52.5198, 87.2993, -122.548, -48.4535, -8.65549, -174.063, -45.5895, -144.097, -119.583, -30.0904, 46.9501, -149.444, -7.66102, -114.494, -149.444, -3.17514, 91.8036, -122.548, -3.04429, 84.6296, -119.795, 5.74525, -114.494, -149.444, 5.74525, 91.8036, -122.548, 28.1747, -141.402, -131.519, 28.1747, 46.9501, -149.444, 43.7558, -144.311, -119.531, 46.5363, -8.65549, -174.063, 50.6041, -118.975, -144.976, 50.6041, -33.7721, -176.362, 50.6041, 87.2993, -122.548, 55.0899, -33.7721, -171.871, 60.2473, -139.043, -119.778, 64.0617, -114.494, -144.976, 64.0617, 42.422, -149.444, 65.688, 78.2067, -119.268, 68.5476, 78.338, -127.034, 73.7217, -131.713, -119.479, 77.5193, -110.014, -140.49, 77.5193, 24.5233, -144.976, 77.5193, 46.9501, -140.49, 77.5193, 78.338, -122.548, 77.7246, 68.5359, -119.572, 78.1526, -127.651, -119.422, 82.1612, -114.535, -119.512 )

[node name="Police1" instance=ExtResource( 1 )]
collision_layer = 2
collision_mask = 3
mass = 151.02
script = ExtResource( 9 )
MaxEngineForce = 168
MaxEngineRPM = 6500
EnginePowerCurve = SubResource( 1 )
GearsIdentifier = [ "R", "N", "1", "2", "3", "4" ]
GearsRatio = [ -2.32, 0.0, 2.84, 1.56, 1.25, 1.0 ]
FinalDriveRatio = 3.25
Lights = [ NodePath("VehicleBody/LightBrakeLight"), NodePath("VehicleBody/LightFrontLeft"), NodePath("VehicleBody/LightFrontRight"), NodePath("VehicleBody/LightRearLeft"), NodePath("VehicleBody/LightRearRight"), NodePath("VehicleBody/LightReverseLeft"), NodePath("VehicleBody/LightReverseRight"), NodePath("VehicleBody/LightTurningLeft"), NodePath("VehicleBody/LightTurningRight") ]
Camera = NodePath("ChaseCamera")

[node name="WheelFrontLeft" parent="." index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.744977, 0.361439, 1.63227 )
use_as_steering = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelFrontLeft" parent="WheelFrontLeft" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 2 )

[node name="WheelFrontRight" parent="." index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.744977, 0.361439, 1.63227 )
use_as_steering = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelFrontRight" parent="WheelFrontRight" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 2 )

[node name="WheelRearLeft" parent="." index="2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.744977, 0.361439, -1.24979 )
use_as_traction = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelRearLeft" parent="WheelRearLeft" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 2 )

[node name="WheelRearRight" parent="." index="3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.744977, 0.361439, -1.24979 )
use_as_traction = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelRearRight" parent="WheelRearRight" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 2 )

[node name="VehicleBody" parent="." index="4"]
material/0 = ExtResource( 2 )

[node name="Glass" parent="VehicleBody" index="0"]
material/0 = ExtResource( 3 )

[node name="LightBrakeLight" parent="VehicleBody" index="1"]
cast_shadow = 0
material/0 = ExtResource( 7 )
script = ExtResource( 8 )
BrakeLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightBrakeLight" index="0"]
transform = Transform( 100, 0, 0, 0, -1.62921e-05, 100, 0, -100, -1.62921e-05, 0, -148, -115 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 8.0
spot_range = 1.0

[node name="LightFrontLeft" parent="VehicleBody" index="2"]
cast_shadow = 0
material/0 = ExtResource( 4 )
script = ExtResource( 8 )
HeadLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightFrontLeft" index="0"]
transform = Transform( 100, 0, 0, 0, -4.37114e-06, -100, 0, 100, -4.37114e-06, 57, 255, -73.5 )
light_energy = 4.0
shadow_enabled = true
spot_range = 30.0
spot_angle = 35.0

[node name="LightFrontRight" parent="VehicleBody" index="3"]
cast_shadow = 0
material/0 = ExtResource( 4 )
script = ExtResource( 8 )
HeadLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightFrontRight" index="0"]
transform = Transform( 100, 0, 0, 0, -1.62921e-05, -100, 0, 100, -1.62921e-05, -57, 255, -73.5 )
light_energy = 4.0
shadow_enabled = true
spot_range = 30.0
spot_angle = 35.0

[node name="LightRearLeft" parent="VehicleBody" index="4"]
cast_shadow = 0
material/0 = ExtResource( 7 )
script = ExtResource( 8 )
RearLight = true
BrakeLight = true
TurningSignal = 1

[node name="Light" type="SpotLight" parent="VehicleBody/LightRearLeft" index="0"]
transform = Transform( 78.8011, 3.45374e-06, -61.5661, 61.5661, -1.00304e-05, 78.8011, -3.45374e-06, -100, -1.00304e-05, 74, -215, -84 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 4.0
spot_range = 3.0
spot_angle = 75.0

[node name="LightRearRight" parent="VehicleBody" index="5"]
cast_shadow = 0
material/0 = ExtResource( 7 )
script = ExtResource( 8 )
RearLight = true
BrakeLight = true
TurningSignal = 2

[node name="Light" type="SpotLight" parent="VehicleBody/LightRearRight" index="0"]
transform = Transform( -78.8011, 2.91304e-05, 61.5661, 61.5661, -1.00304e-05, 78.8011, 2.91304e-05, 100, -1.00304e-05, -74, -215, -84 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 4.0
spot_range = 3.0
spot_angle = 75.0

[node name="LightReverseLeft" parent="VehicleBody" index="6"]
cast_shadow = 0
material/0 = ExtResource( 5 )
script = ExtResource( 8 )
ReverseLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightReverseLeft" index="0"]
transform = Transform( 100, 0, 0, 0, 0, 100, 0, -100, 0, 29, -233, -88 )
light_energy = 4.0
spot_range = 4.0
spot_angle = 75.0

[node name="LightReverseRight" parent="VehicleBody" index="7"]
cast_shadow = 0
material/0 = ExtResource( 5 )
script = ExtResource( 8 )
ReverseLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightReverseRight" index="0"]
transform = Transform( 100, 0, 0, 0, 0, 100, 0, -100, 0, -29, -233, -88 )
light_energy = 4.0
spot_range = 4.0
spot_angle = 75.0

[node name="LightTurningLeft" parent="VehicleBody" index="8"]
cast_shadow = 0
material/0 = ExtResource( 6 )
script = ExtResource( 8 )
TurningSignal = 1

[node name="Light" type="SpotLight" parent="VehicleBody/LightTurningLeft" index="0"]
transform = Transform( 57.3577, -6.94732e-06, -81.9152, -81.9152, -1.33457e-05, -57.3577, -6.94732e-06, 100, -1.33457e-05, 75, 242, -73 )
light_color = Color( 1, 0.654902, 0, 1 )
light_energy = 2.0
spot_range = 3.0
spot_angle = 85.0

[node name="LightTurningRight" parent="VehicleBody" index="9"]
cast_shadow = 0
material/0 = ExtResource( 6 )
script = ExtResource( 8 )
TurningSignal = 2

[node name="Light" type="SpotLight" parent="VehicleBody/LightTurningRight" index="0"]
transform = Transform( -57.3577, -2.56368e-05, 81.9152, -81.9152, -1.33457e-05, -57.3577, 2.56368e-05, -100, -1.33457e-05, -75, 242, -73 )
light_color = Color( 1, 0.654902, 0, 1 )
light_energy = 2.0
spot_range = 3.0
spot_angle = 85.0

[node name="Plates" parent="VehicleBody" index="10"]
material/0 = ExtResource( 2 )

[node name="SteeringWheel" parent="VehicleBody" index="11"]
material/0 = ExtResource( 2 )

[node name="ChaseCamera" type="Position3D" parent="." index="5"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
script = ExtResource( 10 )
CameraDistance = 4.5
CameraAngle = 15

[node name="DriverCamera" type="Position3D" parent="." index="6"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.4, 1.22, 0.1 )
script = ExtResource( 10 )

[node name="CollisionShape1" type="CollisionShape" parent="." index="7"]
transform = Transform( 0.01, 0, 0, 0, 0, -0.01, 0, 0.01, 0, 0, 0, 0 )
shape = SubResource( 2 )

[node name="CollisionShape2" type="CollisionShape" parent="." index="8"]
transform = Transform( 0.01, 0, 0, 0, 0, -0.01, 0, 0.01, 0, 0, 0, 0 )
shape = SubResource( 3 )

[node name="CollisionShape3" type="CollisionShape" parent="." index="9"]
transform = Transform( 0.01, 0, 0, 0, 0, -0.01, 0, 0.01, 0, 0, 0, 0 )
shape = SubResource( 4 )
