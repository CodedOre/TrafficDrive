[gd_scene load_steps=13 format=2]

[ext_resource path="res://assets/models/vehicles/Sedan1.glb" type="PackedScene" id=1]
[ext_resource path="res://assets/materials/VehicleLights/RearLightOff.material" type="Material" id=2]
[ext_resource path="res://assets/materials/VehicleLights/FrontLightOff.material" type="Material" id=3]
[ext_resource path="res://assets/materials/VehicleLights/ReverseLightOff.material" type="Material" id=4]
[ext_resource path="res://assets/materials/VehicleLights/TurningSignalOff.material" type="Material" id=5]
[ext_resource path="res://assets/materials/Body.material" type="Material" id=6]
[ext_resource path="res://assets/materials/Glass.material" type="Material" id=7]
[ext_resource path="res://scripts/vehicles/Vehicle.gd" type="Script" id=8]
[ext_resource path="res://scripts/vehicles/VehicleLight.gd" type="Script" id=9]
[ext_resource path="res://scripts/utils/CameraPoint.gd" type="Script" id=10]

[sub_resource type="Curve" id=3]
_data = [ Vector2( 0, 0 ), 0.0, 2.57359, 0, 0, Vector2( 0.69, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.75, 1 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), -5.12499, 0.0, 0, 0 ]

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( -110.856, 65.8951, -115.244, -106.345, 65.8951, -119.737, -93.133, 119.504, -32.3178, -93.0672, -82.6117, -32.3575, -92.7151, -206.555, -49.7074, -92.7129, -202.269, -79.7036, -90.4219, -215.866, -40.0647, -88.3443, 169.366, -25.2784, -85.0476, -208.915, -96.9076, -84.9783, 228.284, -32.0152, -84.8069, 240.79, -45.0903, -84.7884, 227.797, -79.6375, -84.1303, -125.089, -28.3033, -75.7845, 252.504, -62.4949, -74.7634, -89.7491, -139.113, -73.043, -238.26, -66.3167, -72.9121, -220.243, -101.386, -71.945, 249.701, -32.0632, -69.7586, 225.615, -88.2593, -65.1005, 41.0463, -142.35, -64.252, -242.656, -53.1593, -61.8025, -85.0608, -147.33, -58.9478, 253.959, -32.0778, -56.8534, -231.027, -25.2784, -56.853, 28.5462, -146.584, -56.8125, -0.546211, -150.725, -53.5585, -93.9384, -147.551, -53.2019, -59.541, -151.378, -46.4505, 265.191, -44.5991, -41.5835, -225.342, -105.517, -41.5816, -238.313, -71.015, -37.591, 251.236, -88.2593, -15.1531, 40.9901, -146.487, 5.70933, -97.745, -147.321, 18.0627, 40.9134, -146.334, 33.1298, -163.528, -20.759, 36.383, 251.259, -88.2593, 45.2639, 265.445, -44.5553, 45.5443, 262.55, -35.494, 55.6533, -0.557851, -150.783, 55.7445, 28.5766, -146.691, 56.0379, -59.3992, -151.21, 56.3898, -93.5986, -147.361, 60.1313, -222.034, -110.751, 60.5694, 41.3999, -143.096, 64.4538, 230.214, -88.2593, 67.6202, -243.407, -48.6473, 68.6229, -29.9402, -146.994, 68.9396, -89.1909, -143.042, 75.0071, 249.576, -32.0928, 77.8115, -102.47, -130.631, 77.818, 249.29, -62.8266, 79.9666, -231.919, -40.3617, 82.6615, 221.183, -84.0078, 83.6063, -126.217, -27.8097, 83.6494, 232.252, -32.0934, 86.247, -199.929, -96.7215, 87.1327, 169.366, -25.2784, 87.2275, 230.429, -45.4201, 90.3693, -81.0918, -29.0309, 90.8916, -205.056, -37.1899, 90.9449, 118.369, -28.6562, 92.0593, -207.825, -79.6518, 109.645, 65.8951, -119.75 )

[node name="Sedan1" instance=ExtResource( 1 )]
collision_layer = 2
collision_mask = 3
mass = 187.755
script = ExtResource( 8 )
MaxEngineForce = 168
MaxEngineRPM = 6500
EnginePowerCurve = SubResource( 3 )
GearsIdentifier = [ "R", "N", "1", "2", "3", "4" ]
GearsRatio = [ -2.32, 0.0, 2.84, 1.56, 1.25, 1.0 ]
FinalDriveRatio = 3.25
Lights = [ NodePath("VehicleBody/LightBrakeLight"), NodePath("VehicleBody/LightFrontLeft"), NodePath("VehicleBody/LightFrontRight"), NodePath("VehicleBody/LightRearLeft"), NodePath("VehicleBody/LightRearRight"), NodePath("VehicleBody/LightReverseLeft"), NodePath("VehicleBody/LightReverseRight"), NodePath("VehicleBody/LightTurningLeft"), NodePath("VehicleBody/LightTurningRight") ]
Camera = NodePath("ChaseCamera")

[node name="WheelFrontLeft" parent="." index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.744977, 0.361439, 1.63227 )
use_as_steering = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelFrontLeft" parent="WheelFrontLeft" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 6 )

[node name="WheelRearLeft" parent="." index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.744977, 0.361439, -1.24979 )
use_as_traction = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelRearLeft" parent="WheelRearLeft" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 6 )

[node name="WheelFrontRight" parent="." index="2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.744977, 0.361439, 1.63227 )
use_as_steering = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelFrontRight" parent="WheelFrontRight" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 6 )

[node name="WheelRearRight" parent="." index="3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.744977, 0.361439, -1.24979 )
use_as_traction = true
wheel_radius = 0.36
wheel_rest_length = 0.075
wheel_friction_slip = 1.0
suspension_travel = 0.3
suspension_stiffness = 65.0

[node name="WheelRearRight" parent="WheelRearRight" index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 6 )

[node name="VehicleBody" parent="." index="4"]
material/0 = ExtResource( 6 )

[node name="Glass" parent="VehicleBody" index="0"]
material/0 = ExtResource( 7 )

[node name="LightBrakeLight" parent="VehicleBody" index="1"]
cast_shadow = 0
material/0 = ExtResource( 2 )
script = ExtResource( 9 )
BrakeLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightBrakeLight" index="0"]
transform = Transform( 100, 0, 0, 0, -1.62921e-05, 100, 0, -100, -1.62921e-05, 0, -148, -115 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 8.0
spot_range = 1.0

[node name="LightFrontLeft" parent="VehicleBody" index="2"]
cast_shadow = 0
material/0 = ExtResource( 3 )
script = ExtResource( 9 )
HeadLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightFrontLeft" index="0"]
transform = Transform( 100, 0, 0, 0, -4.37114e-06, -100, 0, 100, -4.37114e-06, 57, 255, -73.5 )
light_energy = 4.0
shadow_enabled = true
spot_range = 30.0
spot_angle = 35.0

[node name="LightFrontRight" parent="VehicleBody" index="3"]
cast_shadow = 0
material/0 = ExtResource( 3 )
script = ExtResource( 9 )
HeadLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightFrontRight" index="0"]
transform = Transform( 100, 0, 0, 0, -1.62921e-05, -100, 0, 100, -1.62921e-05, -57, 255, -73.5 )
light_energy = 4.0
shadow_enabled = true
spot_range = 30.0
spot_angle = 35.0

[node name="LightRearLeft" parent="VehicleBody" index="4"]
cast_shadow = 0
material/0 = ExtResource( 2 )
script = ExtResource( 9 )
RearLight = true
BrakeLight = true
TurningSignal = 1

[node name="Light" type="SpotLight" parent="VehicleBody/LightRearLeft" index="0"]
transform = Transform( 78.8011, 3.45374e-06, -61.5661, 61.5661, -1.00304e-05, 78.8011, -3.45374e-06, -100, -1.00304e-05, 74, -215, -84 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 4.0
spot_range = 3.0
spot_angle = 75.0

[node name="LightRearRight" parent="VehicleBody" index="5"]
cast_shadow = 0
material/0 = ExtResource( 2 )
script = ExtResource( 9 )
RearLight = true
BrakeLight = true
TurningSignal = 2

[node name="Light" type="SpotLight" parent="VehicleBody/LightRearRight" index="0"]
transform = Transform( -78.8011, 2.91304e-05, 61.5661, 61.5661, -1.00304e-05, 78.8011, 2.91304e-05, 100, -1.00304e-05, -74, -215, -84 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 4.0
spot_range = 3.0
spot_angle = 75.0

[node name="LightReverseLeft" parent="VehicleBody" index="6"]
cast_shadow = 0
material/0 = ExtResource( 4 )
script = ExtResource( 9 )
ReverseLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightReverseLeft" index="0"]
transform = Transform( 100, 0, 0, 0, 0, 100, 0, -100, 0, 29, -233, -88 )
light_energy = 4.0
spot_range = 4.0
spot_angle = 75.0

[node name="LightReverseRight" parent="VehicleBody" index="7"]
cast_shadow = 0
material/0 = ExtResource( 4 )
script = ExtResource( 9 )
ReverseLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightReverseRight" index="0"]
transform = Transform( 100, 0, 0, 0, 0, 100, 0, -100, 0, -29, -233, -88 )
light_energy = 4.0
spot_range = 4.0
spot_angle = 75.0

[node name="LightTurningLeft" parent="VehicleBody" index="8"]
cast_shadow = 0
material/0 = ExtResource( 5 )
script = ExtResource( 9 )
TurningSignal = 1

[node name="Light" type="SpotLight" parent="VehicleBody/LightTurningLeft" index="0"]
transform = Transform( 57.3577, -6.94732e-06, -81.9152, -81.9152, -1.33457e-05, -57.3577, -6.94732e-06, 100, -1.33457e-05, 75, 242, -73 )
light_color = Color( 1, 0.654902, 0, 1 )
light_energy = 2.0
spot_range = 3.0
spot_angle = 85.0

[node name="LightTurningRight" parent="VehicleBody" index="9"]
cast_shadow = 0
material/0 = ExtResource( 5 )
script = ExtResource( 9 )
TurningSignal = 2

[node name="Light" type="SpotLight" parent="VehicleBody/LightTurningRight" index="0"]
transform = Transform( -57.3577, -2.56368e-05, 81.9152, -81.9152, -1.33457e-05, -57.3577, 2.56368e-05, -100, -1.33457e-05, -75, 242, -73 )
light_color = Color( 1, 0.654902, 0, 1 )
light_energy = 2.0
spot_range = 3.0
spot_angle = 85.0

[node name="Plates" parent="VehicleBody" index="10"]
material/0 = ExtResource( 6 )

[node name="SteeringWheel" parent="VehicleBody" index="11"]
material/0 = ExtResource( 6 )

[node name="ChaseCamera" type="Position3D" parent="." index="5"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
script = ExtResource( 10 )
CameraDistance = 4.5
CameraAngle = 15

[node name="CollisionShape" type="CollisionShape" parent="." index="6"]
transform = Transform( 0.01, 0, 0, 0, 0, -0.01, 0, 0.01, 0, 0, 0, 0 )
shape = SubResource( 2 )
