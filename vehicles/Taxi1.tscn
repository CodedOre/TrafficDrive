[gd_scene load_steps=12 format=2]

[ext_resource path="res://assets/models/vehicles/Taxi1.glb" type="PackedScene" id=1]
[ext_resource path="res://assets/materials/VehicleLights/RearLightOff.material" type="Material" id=2]
[ext_resource path="res://assets/materials/VehicleLights/FrontLightOff.material" type="Material" id=3]
[ext_resource path="res://assets/materials/VehicleLights/ReverseLightOff.material" type="Material" id=4]
[ext_resource path="res://assets/materials/VehicleLights/TurningSignalOff.material" type="Material" id=5]
[ext_resource path="res://assets/materials/Glass.material" type="Material" id=6]
[ext_resource path="res://assets/materials/Body.material" type="Material" id=7]
[ext_resource path="res://scripts/vehicles/VehicleLight.gd" type="Script" id=8]
[ext_resource path="res://scripts/vehicles/Vehicle.gd" type="Script" id=9]
[ext_resource path="res://scripts/utils/CameraPoint.gd" type="Script" id=10]

[sub_resource type="ConvexPolygonShape" id=1]
points = PoolVector3Array( -110.831, 63.2369, -116.46, -110.831, 63.2369, -103.069, -110.831, 72.1286, -103.069, -106.355, 76.6767, -120.909, -93.7106, 121.357, -34.171, -93.681, -84.5329, -34.1905, -93.0181, -207.409, -51.6625, -90.0805, -219.306, -59.6462, -89.8158, -85.004, -29.5734, -89.686, -214.011, -38.2691, -89.0997, -204.02, -94.2491, -88.5137, 214.958, -27.2465, -88.1962, 204.618, -81.576, -85.7532, 243.243, -46.6735, -79.5823, -217.771, -107.533, -77.7738, 258.339, -46.2417, -74.3735, 226.83, -85.9676, -73.8992, 255.559, -32.7578, -73.6096, -239.364, -41.7536, -70.5154, 231.938, -85.9224, -69.9507, -81.5308, -144.175, -66.218, -208.828, -22.7675, -64.7154, -243.185, -41.8893, -64.6804, -243.048, -50.626, -57.2866, -231.16, -22.7675, -55.5954, -241.434, -68.2501, -47.2048, 266.889, -46.289, -38.6182, 263.363, -32.9935, -38.1647, 251.852, -85.5943, -37.6549, -24.2155, -171.032, -37.5983, 244.065, -90.0269, -30.5143, -226.714, -111.997, 31.94, -226.714, -111.997, 35.4433, 253.017, -85.5567, 36.3948, -164.216, -18.3037, 38.2872, -23.4669, -169.489, 39.0124, 243.995, -90.0142, 44.3812, 267.48, -46.1729, 55.0495, -90.3736, -148.633, 57.5363, -243.752, -63.6045, 61.7635, 258.351, -33.1639, 63.826, 237.015, -85.8803, 65.8854, -224.772, -98.5471, 66.1688, -243.293, -41.8514, 71.2674, -73.0671, -144.116, 71.564, -94.2391, -140.146, 74.5507, 257.36, -42.095, 74.7566, -238.421, -41.9436, 76.2586, -90.7829, -136.247, 77.3276, -211.421, -102.761, 78.8113, 257.053, -46.5182, 80.2777, 219.229, -85.9292, 82.1093, -221.478, -81.4024, 85.5258, 234.596, -64.5957, 87.4281, 239.589, -46.545, 89.6684, -197.689, -94.2695, 89.9394, 214.958, -27.2465, 90.7424, -208.815, -81.3894, 91.2415, -85.004, -29.5734, 91.5469, -210.788, -37.9893, 92.1368, 122.943, -28.9126, 107.78, 76.6767, -120.909, 112.257, 63.2369, -116.46, 112.257, 63.2369, -107.518 )

[node name="Taxi1" instance=ExtResource( 1 )]
collision_layer = 2
collision_mask = 3
script = ExtResource( 9 )
Lights = [ NodePath("VehicleBody/LightBrakeLight"), NodePath("VehicleBody/LightFrontLeft"), NodePath("VehicleBody/LightFrontRight"), NodePath("VehicleBody/LightRearLeft"), NodePath("VehicleBody/LightRearRight"), NodePath("VehicleBody/LightReverseLeft"), NodePath("VehicleBody/LightReverseRight"), NodePath("VehicleBody/LightTurningLeft"), NodePath("VehicleBody/LightTurningRight") ]
Camera = NodePath("ChaseCamera")

[node name="WheelFrontLeft " parent="." index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.744977, 0.361439, 1.63227 )

[node name="WheelFrontLeft " parent="WheelFrontLeft " index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 7 )

[node name="WheelRearLeft " parent="." index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.744977, 0.361439, -1.24979 )

[node name="WheelRearLeft " parent="WheelRearLeft " index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 7 )

[node name="WheelFrontRight " parent="." index="2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.744977, 0.361439, 1.63227 )

[node name="WheelFrontRight " parent="WheelFrontRight " index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 7 )

[node name="WheelRearRight " parent="." index="3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.744977, 0.361439, -1.24979 )

[node name="WheelRearRight " parent="WheelRearRight " index="0"]
transform = Transform( 0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0 )
material/0 = ExtResource( 7 )

[node name="VehicleBody" parent="." index="4"]
material/0 = ExtResource( 7 )

[node name="Glass" parent="VehicleBody" index="0"]
material/0 = ExtResource( 6 )

[node name="LightBrakeLight" parent="VehicleBody" index="1"]
cast_shadow = 0
material/0 = ExtResource( 2 )
script = ExtResource( 8 )
BrakeLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightBrakeLight" index="0"]
transform = Transform( 100, 0, 0, 0, -1.62921e-05, 100, 0, -100, -1.62921e-05, 0, -148, -115 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 8.0
spot_range = 1.0

[node name="LightFrontLeft" parent="VehicleBody" index="2"]
cast_shadow = 0
material/0 = ExtResource( 3 )
script = ExtResource( 8 )
HeadLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightFrontLeft" index="0"]
transform = Transform( 100, 0, 0, 0, -4.37114e-06, -100, 0, 100, -4.37114e-06, 57, 255, -73.5 )
light_energy = 4.0
shadow_enabled = true
spot_range = 30.0
spot_angle = 35.0

[node name="LightFrontRight" parent="VehicleBody" index="3"]
cast_shadow = 0
material/0 = ExtResource( 3 )
script = ExtResource( 8 )
HeadLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightFrontRight" index="0"]
transform = Transform( 100, 0, 0, 0, -1.62921e-05, -100, 0, 100, -1.62921e-05, -57, 255, -73.5 )
light_energy = 4.0
shadow_enabled = true
spot_range = 30.0
spot_angle = 35.0

[node name="LightRearLeft" parent="VehicleBody" index="4"]
cast_shadow = 0
material/0 = ExtResource( 2 )
script = ExtResource( 8 )
RearLight = true
BrakeLight = true
TurningSignal = 1

[node name="Light" type="SpotLight" parent="VehicleBody/LightRearLeft" index="0"]
transform = Transform( 78.8011, 3.45374e-06, -61.5661, 61.5661, -1.00304e-05, 78.8011, -3.45374e-06, -100, -1.00304e-05, 74, -215, -84 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 4.0
spot_range = 3.0
spot_angle = 75.0

[node name="LightRearRight" parent="VehicleBody" index="5"]
cast_shadow = 0
material/0 = ExtResource( 2 )
script = ExtResource( 8 )
RearLight = true
BrakeLight = true
TurningSignal = 2

[node name="Light" type="SpotLight" parent="VehicleBody/LightRearRight" index="0"]
transform = Transform( -78.8011, 2.91304e-05, 61.5661, 61.5661, -1.00304e-05, 78.8011, 2.91304e-05, 100, -1.00304e-05, -74, -215, -84 )
light_color = Color( 1, 0, 0, 1 )
light_energy = 4.0
spot_range = 3.0
spot_angle = 75.0

[node name="LightReverseLeft" parent="VehicleBody" index="6"]
cast_shadow = 0
material/0 = ExtResource( 4 )
script = ExtResource( 8 )
ReverseLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightReverseLeft" index="0"]
transform = Transform( 100, 0, 0, 0, 0, 100, 0, -100, 0, 29, -233, -88 )
light_energy = 4.0
spot_range = 4.0
spot_angle = 75.0

[node name="LightReverseRight" parent="VehicleBody" index="7"]
cast_shadow = 0
material/0 = ExtResource( 4 )
script = ExtResource( 8 )
ReverseLight = true

[node name="Light" type="SpotLight" parent="VehicleBody/LightReverseRight" index="0"]
transform = Transform( 100, 0, 0, 0, 0, 100, 0, -100, 0, -29, -233, -88 )
light_energy = 4.0
spot_range = 4.0
spot_angle = 75.0

[node name="LightTurningLeft" parent="VehicleBody" index="8"]
cast_shadow = 0
material/0 = ExtResource( 5 )
script = ExtResource( 8 )
TurningSignal = 1

[node name="Light" type="SpotLight" parent="VehicleBody/LightTurningLeft" index="0"]
transform = Transform( 57.3577, -6.94732e-06, -81.9152, -81.9152, -1.33457e-05, -57.3577, -6.94732e-06, 100, -1.33457e-05, 75, 242, -73 )
light_color = Color( 1, 0.654902, 0, 1 )
light_energy = 2.0
spot_range = 3.0
spot_angle = 85.0

[node name="LightTurningRight" parent="VehicleBody" index="9"]
cast_shadow = 0
material/0 = ExtResource( 5 )
script = ExtResource( 8 )
TurningSignal = 2

[node name="Light" type="SpotLight" parent="VehicleBody/LightTurningRight" index="0"]
transform = Transform( -57.3577, -2.56368e-05, 81.9152, -81.9152, -1.33457e-05, -57.3577, 2.56368e-05, -100, -1.33457e-05, -75, 242, -73 )
light_color = Color( 1, 0.654902, 0, 1 )
light_energy = 2.0
spot_range = 3.0
spot_angle = 85.0

[node name="Plates" parent="VehicleBody" index="10"]
material/0 = ExtResource( 7 )

[node name="SteeringWheel" parent="VehicleBody" index="11"]
transform = Transform( 1, 0, 0, 0, 0.339983, 0.940432, 0, -0.940432, 0.339983, 37.6915, 51.5779, -96.965 )
material/0 = ExtResource( 7 )

[node name="ChaseCamera" type="Position3D" parent="." index="5"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
script = ExtResource( 10 )
CameraDistance = 4.5
CameraAngle = 15

[node name="CollisionShape" type="CollisionShape" parent="." index="6"]
transform = Transform( 0.01, 0, 0, 0, 0, -0.01, 0, 0.01, 0, 0, 0, 0 )
shape = SubResource( 1 )
